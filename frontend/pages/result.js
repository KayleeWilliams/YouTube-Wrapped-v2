import Head from 'next/head'
import Link from 'next/link'
import Graphic from '../components/Graphic'
import IcBaselineArrowRight from '~icons/ic/baseline-arrow-right.jsx'
import IcBaselineArrowLeft from '~icons/ic/baseline-arrow-left.jsx'

// // Called on request
export async function getServerSideProps(context) {
	const data = context.query
	// If no data e.g. /result
	if (Object.keys(data).length === 0) {
		return {
			redirect: {
				destination: '/',
				permanent: false,
			},
		}
	}
	//  Return as prop
	return {
		props: {data},
  	}
}

export default function Result({data}) {

	return (
		<div className="snap-x snap-mandatory overflow-scroll flex h-screen w-screen scroll-smooth bg-background">
			<Head>
				<title>Your YouTube Wrapped!</title>
				<meta name="description" content="Generated by create next app" />
				<meta name="viewport" content="initial-scale=1.0, width=device-width" />
				<link rel="icon" href="/favicon.ico" />
			</Head>

			<div id="1" className="flex flex-shrink-0 snap-start snap-normal flex-col items-center justify-center content-center lg:flex-row w-screen h-screen lg:h-full"> 
				<Link href="#1" scroll={true} replace><IcBaselineArrowLeft className="flex-shrink-0 text-link hover:text-on transition ease-in-out delay-150 duration-[400ms] hover:-translate-y-1 hover:scale-150 w-0 h-0 lg:w-64 lg:h-64 invisible" /></Link>
				<Graphic primary="bg-[#da8bd1] text-[#6f1b69]" secondary="bg-[#6f1b69] text-[#da8bd1]" data={data} /> 
				<div className="flex flex-row w-full lg:w-fit justify-center"> 
					<Link href="#2" scroll={true} replace><IcBaselineArrowRight className="flex-shrink-0 text-link hover:text-on transition ease-in-out delay-150 duration-[400ms] hover:-translate-y-1 hover:scale-150 w-32 h-32 lg:w-64 lg:h-64" /></Link>
				</div>			
			</div>          

			<div id="2" className="flex flex-shrink-0 snap-start snap-normal flex-col items-center lg:flex-row ontent-center justify-center w-screen h-screen"> 
				<Link href="#1" scroll={true} replace><IcBaselineArrowLeft className="flex-shrink-0 text-link hover:text-on transition ease-in-out delay-150 duration-[400ms] hover:-translate-y-1 hover:scale-150 w-0 h-0 lg:w-64 lg:h-64 invisible lg:visible" /></Link>
				<Graphic primary="bg-[#c5e6fb] text-[#6e34c5]" secondary="bg-[#6e34c5] text-[#c5e6fb]" data={data} />     
				<div className="flex flex-row w-full lg:w-fit justify-center"> 
					<Link href="#1" scroll={true} replace><IcBaselineArrowLeft className="flex-shrink-0 text-link hover:text-on transition ease-in-out delay-150 duration-[400ms] hover:-translate-y-1 hover:scale-150 w-32 h-32 lg:w-0 lg:h-0 visible lg:invisible" /></Link>
					<Link href="#3" scroll={true} replace><IcBaselineArrowRight className="flex-shrink-0 text-link hover:text-on transition ease-in-out delay-150 duration-[400ms] hover:-translate-y-1 hover:scale-150 w-32 h-32 lg:w-64 lg:h-64" /></Link>
				</div>
			</div>      

			<div id="3" className="flex flex-shrink-0 snap-start snap-normal flex-col items-center lg:flex-row  content-center justify-center w-screen h-screen"> 
				<Link href="#2" scroll={true} replace><IcBaselineArrowLeft className="flex-shrink-0 text-link hover:text-on transition ease-in-out delay-150 duration-[400ms] hover:-translate-y-1 hover:scale-150 w-0 h-0 lg:w-64 lg:h-64 invisible lg:visible" /></Link>
				<Graphic primary="bg-[#37367b] text-[#9ef990]" secondary="bg-[#9ef990] text-[#37367b]" data={data} />     		
				<div className="flex flex-row w-full lg:w-fit justify-center"> 
					<Link href="#2" scroll={true} replace><IcBaselineArrowLeft className="flex-shrink-0 text-link hover:text-on transition ease-in-out delay-150 duration-[400ms] hover:-translate-y-1 hover:scale-150 w-32 h-32 lg:w-0 lg:h-0" /></Link>
				</div>
			</div>       
		</div>
	)

}
